{"version":3,"sources":["webpack:///src/components/yuer-result/yuer-result.vue","webpack:///./src/components/yuer-result/yuer-result.vue?f146","webpack:///./src/components/yuer-result/yuer-result.vue","webpack:///src/views/mainSearch.vue","webpack:///./src/views/mainSearch.vue?1887","webpack:///./src/views/mainSearch.vue","webpack:///./src/js/setBodyHeight.js"],"names":["yuer_result","components","Yuersearch","__webpack_require__","e","then","bind","Yuerloading","data","pageMusic","pageList","pageMv","slide","isbottom","mounted","Object","setBodyHeight","this","$store","state","isMainSearch","nomore","methods","searchMvs","searchLists","changeTransition","to","from","path","slice","getMore","_this","cont","target","scrollHeight","wrap","offsetHeight","scroll","scrollTop","Math","round","console","log","setTimeout","$route","offset","type","getMoreCont","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","_context","prev","next","dispatch","stop","destroyed","watch","yuer_result_yuer_result","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","name","replace","class","on","click","ref","staticClass","_e","staticRenderFns","mainSearch","Yuerresult","normalizeComponent","ssrContext","views_mainSearch","mainSearch_Component","mainSearch_normalizeComponent","__webpack_exports__","$","height","window"],"mappings":"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","file":"static/js/7.3b22441465c3822a7396.js","sourcesContent":["<template>\r\n<div id=\"main-search\">\r\n    <Yuersearch/>\r\n    <div id=\"tags\">\r\n      <router-link :to=\"{name:'ResultMusic'}\" replace><p :class=\" $route.path === '/main/search/music' ? 'chosed':'' \">歌曲</p></router-link>                             \r\n      <router-link :to=\"{name:'ResultList'}\" replace><p @click=\"searchLists\" :class=\" $route.path === '/main/search/list' ? 'chosed':'' \">歌单</p></router-link>                             \r\n      <router-link :to=\"{name:'ResultMv'}\" replace><p @click=\"searchMvs\" :class=\" $route.path === '/main/search/mv' ? 'chosed':'' \">MV</p></router-link>                                 \r\n    </div>\r\n    \r\n    <div id=\"main-result\"  ref=\"mainResult\" >\r\n        <transition :name=\"slide\" >\r\n            <router-view class=\"child-view\"></router-view>  \r\n        </transition>   \r\n        <Yuerloading v-if=\" isbottom && !$store.state.nomore\" class=\"inMainSearch\" />   \r\n        <p  class=\"nomoreResult\" v-else-if=\" isbottom && $store.state.nomore\" > ~ 到底啦，别拖啦 ~</p>\r\n    </div>            \r\n</div>\r\n</template>\r\n\r\n<script> \r\nconst Yuerloading = () => import('../yuer-loading');\r\nconst Yuersearch = () => import('../yuer-search');\r\n\r\nimport {setHeight} from '../../js/setBodyHeight'\r\n\r\nexport default {\r\n    components: {\r\n        Yuersearch,\r\n        Yuerloading\r\n    },\r\n    data(){\r\n        return{\r\n            pageMusic:1,\r\n            pageList:1,\r\n            pageMv:1,\r\n            slide:'ltr',\r\n            isbottom: false,\r\n            \r\n        }\r\n    },\r\n    mounted () {\r\n\r\n        setHeight()\r\n\r\n        this.$store.state.isMainSearch = true\r\n        this.$store.state.nomore = false\r\n    },\r\n    methods: {\r\n        \r\n        searchMvs(){\r\n          \r\n        },\r\n        searchLists(){\r\n          \r\n        },\r\n\r\n        //不同的切换动画效果\r\n        changeTransition(to,from){\r\n            to = to.path.slice(13)\r\n            from = from.path.slice(13)\r\n\r\n            if(to === 'music' || (to === 'list' && from === 'mv' )){\r\n                this.slide = 'rtl'\r\n            }else if(to === 'mv' || ((to === 'list' && from === 'music' ))){\r\n                this.slide = 'ltr'\r\n            }\r\n        },\r\n        getMore(e){\r\n            //未搜索前，不触发下拉事件\r\n                let cont = e.target.scrollHeight\r\n                let wrap = e.target.offsetHeight\r\n                let scroll = e.target.scrollTop\r\n                if( Math.round(scroll) >= cont - wrap - 1){\r\n                    this.isbottom = true\r\n                    console.log(this.isbottom);\r\n                    console.log(this.$store.state.nomore);\r\n                    setTimeout(() => {\r\n                         let path = this.$route.path.slice(13)\r\n                    let offset = 0\r\n                    let type = 0\r\n                    if( path ==='music'){\r\n                        offset = 20 * (this.pageMusic ++)\r\n                        type = 1\r\n                    }else if(path === 'list'){\r\n                        offset = 20 * (this.pageList ++)\r\n                        type = 1000\r\n                    }else if(path === 'mv'){\r\n                        offset = 20 * (this.pageMv ++)\r\n                        type = 1004\r\n                    }\r\n                    this.getMoreCont(offset,type)\r\n                    },1000);\r\n                   \r\n                } \r\n        },\r\n        async getMoreCont(offset,type){\r\n            await  this.$store.dispatch('getResultByKey',{offset,type}) \r\n            if(!this.$store.state.nomore){\r\n                 this.isbottom = false\r\n            }\r\n        }   \r\n    },\r\n    destroyed () {\r\n        this.$store.state.isMainSearch = false \r\n    },\r\n    //这样在条转到相同path的路由中时，页面也会刷新了\r\n    watch: {\r\n        //在监听中，this指向的依然是vue实例\r\n        '$route'(to,from){\r\n           this.changeTransition(to,from)\r\n           console.log('...');\r\n        } \r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n#main-search{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n}\r\n#main-result{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 85%;\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n    top: 16%;\r\n}\r\n#tags{\r\n    position: absolute;\r\n    top: 8.2%;\r\n    width: 100%;\r\n    height: 6.8%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    box-shadow: 0 1px 1px rgb(207, 207, 207);\r\n}\r\n#tags > a{\r\n    flex: 1;\r\n    text-align: center;\r\n    color: gray;\r\n    font-size: 15px;\r\n    height: 100%;\r\n    text-decoration: none;\r\n   \r\n}\r\n#tags > a > p{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    /* 这里居中如果设置ling-height，只能设置固定值，而这里需要高度为100%，所有居中使用了flex */\r\n    height: 100%;\r\n}\r\n\r\n.chosed{\r\n    color: black;\r\n    font-size: 17px;\r\n    border-bottom: 1px solid red;\r\n}\r\n\r\n\r\n.nomoreResult{\r\n    height:  40px;\r\n    text-align: center;\r\n}\r\n\r\n.child-view{ \r\n    position: absolute !important;\r\n    left: 0;\r\n}\r\n\r\n.ltr-enter, .rtl-leave-to{\r\n    left: 100%;\r\n}\r\n.ltr-leave-to,.rtl-enter{\r\n    left: -100%;\r\n}\r\n.ltr-enter-active,.rtl-enter-active{\r\n    transition: all .2s ;\r\n}\r\n.ltr-leave-active,.rtl-leave-active{\r\n    transition: all .2s ; \r\n\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/yuer-result/yuer-result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main-search\"}},[_c('Yuersearch'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"tags\"}},[_c('router-link',{attrs:{\"to\":{name:'ResultMusic'},\"replace\":\"\"}},[_c('p',{class:_vm.$route.path === '/main/search/music' ? 'chosed':''},[_vm._v(\"歌曲\")])]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{name:'ResultList'},\"replace\":\"\"}},[_c('p',{class:_vm.$route.path === '/main/search/list' ? 'chosed':'',on:{\"click\":_vm.searchLists}},[_vm._v(\"歌单\")])]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{name:'ResultMv'},\"replace\":\"\"}},[_c('p',{class:_vm.$route.path === '/main/search/mv' ? 'chosed':'',on:{\"click\":_vm.searchMvs}},[_vm._v(\"MV\")])])],1),_vm._v(\" \"),_c('div',{ref:\"mainResult\",attrs:{\"id\":\"main-result\"}},[_c('transition',{attrs:{\"name\":_vm.slide}},[_c('router-view',{staticClass:\"child-view\"})],1),_vm._v(\" \"),( _vm.isbottom && !_vm.$store.state.nomore)?_c('Yuerloading',{staticClass:\"inMainSearch\"}):( _vm.isbottom && _vm.$store.state.nomore)?_c('p',{staticClass:\"nomoreResult\"},[_vm._v(\" ~ 到底啦，别拖啦 ~\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a9b9e43a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/yuer-result/yuer-result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a9b9e43a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./yuer-result.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./yuer-result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./yuer-result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a9b9e43a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./yuer-result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/yuer-result/yuer-result.vue\n// module id = null\n// module chunks = ","<template>\r\n<div>\r\n    <Yuerresult/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Yuerresult from '../components/yuer-result/yuer-result'\r\n\r\nexport default {\r\n    components: {\r\n        Yuerresult\r\n    },\r\n    data(){\r\n        return{\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/mainSearch.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Yuerresult')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c618358\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/mainSearch.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c618358\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mainSearch.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mainSearch.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mainSearch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c618358\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./mainSearch.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mainSearch.vue\n// module id = null\n// module chunks = ","export function setHeight(){\r\n    /*\r\n        页面被压缩的原因就是页面高度设置的不是固定值，而是百分比或vh等。想要不被压缩就要设置成固定值\r\n\r\n        通过获取浏览器窗口高度，设置高度为固定值，而不是100%\r\n       \r\n        这样，页面就能占满全屏，并且也不会因为弹出键盘而被压缩\r\n    */\r\n   const mainSearch = $('#main-search')\r\n   mainSearch.height($(window).height())\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/setBodyHeight.js"],"sourceRoot":""}